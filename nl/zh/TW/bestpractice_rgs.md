---

copyright:

  years: 2018, 2019
lastupdated: "2019-01-28"

keywords: organize resources, set up resource groups, best practice, resource group strategy

subcollection: resources

---

{:new_window: target="_blank"}  
{:shortdesc: .shortdesc}
{:tip: .tip}
{:note: .note}
{:important: .important}


# 用資源群組組織資源的最佳作法
{: #bp_resourcegroups}

資源群組特性可讓您用來組織帳戶[資源](/docs/resources?topic=resources-resource)，以進行存取控制及計費。如果您熟悉 Cloud Foundry 空間的用法，就可以將用資源群組組織資源，想像成類似於用空間組織資源的方式。資源是可以在資源群組中建立、管理及包含在其中的任何項目。使用者不會新增至資源群組。只能新增資源。

目前並非所有服務都支援使用 {{site.data.keyword.Bluemix_notm}} Identity and Access Management (IAM) 存取控制以及指派至資源群組。當您從型錄建立服務實例時，已啟用 IAM 的服務會提示您將新的服務實例指派至資源群組。對資源群組中的資源以及對資源群組本身的存取權是由 IAM 管理。藉由使用 IAM 角色，您可以提供使用者對組織在資源群組中之資源的存取權。IAM 角色也可讓您檢視或編輯資源群組、新增服務實例至資源群組，或是管理對資源群組的存取權。

當您完成下列步驟，從「身分及存取」使用者介面指派對資源的存取權時，也可以找到已啟用 IAM 的服務清單。
1. 移至**管理** &gt; **存取 (IAM)**，然後選取**使用者**。
2. 選取任何使用者，然後按一下**存取原則**。
3. 選取**指派存取權** > **指派對資源的存取權**。
4. 使用**服務**功能表，選取您要指派的服務。針對尚未使用 IAM 來支援的所有服務，您可以繼續使用 Cloud Foundry 組織、空間和角色。
5. 按一下**指派**。

Cloud Foundry 組織、空間和角色截然不同於資源群組和 IAM 角色。Cloud Foundry 角色絕對無法授與對資源群組中之資源的存取權。
{: note}


## 設定資源群組
{: #setuprgs}

依預設，所有使用者都會取得可重新命名的單一資源群組。請指派所有帳戶管理服務的編輯者或管理者角色，以便建立資源群組。如果您有計費帳戶，則可建立多個資源群組來組織您的資源。藉由用不同的資源群組來組織資源，您可以：

* 使用最少的原則數目，更輕鬆地指派對一組資源的存取權
* 依資源群組用量資訊進行檢視，以方便計費

若要建立新的資源群組，請完成下列步驟：

1. 移至**管理** > **帳戶**。
2. 展開**帳戶資源**，然後選取**資源群組**。
3. 按一下**建立資源群組**。
4. 輸入資源群組的名稱。
5. 按一下**新增**。

## 新增資源至資源群組
{: #addingtorgs}

使用 IAM 存取控制來啟用的服務是屬於資源群組，而不屬於 Cloud Foundry 組織或空間。當您從型錄建立其中一個服務的服務實例時，系統會提示您將實例指派給資源群組。

建立實例時，您所選擇的資源群組便是最終的資源群組，因此無法變更。
{: important}

如果您有適用於移轉的現有 Cloud Foundry 服務實例，當有更多服務啟用對資源群組的指派以及 IAM 存取控制的使用時，系統會在資源清單上通知您。[將服務實例移轉至資源群組](/docs/resources?topic=resources-migrate)時，就會在您選擇的資源群組中建立新的鏈結實例，而 Cloud Foundry 實例會變成別名。


## 指派對資源群組及其中資源的存取權
{: #assigning_access_rgs}

您可以藉由建立存取原則，為組織成存取群組的使用者或使用者群組提供存取權。存取原則會設定目標（通常是資源群組中的單一服務實例或服務的所有實例）和角色（定義所容許的存取類型）。有兩種存取原則類型需要您以帳戶擁有者身分來指派，才能讓您帳戶中的使用者有權使用資源群組中的資源。

* 對資源群組內資源的存取權。您可以針對群組中的所有資源或僅限群組中的選定服務來授與存取權。
* 可讓使用者管理群組的存取權，意思是，使用者可以檢視群組、編輯群組的名稱、管理讓其他人管理群組的存取權，以及最重要的是建立新服務實例並新增至群組。

請參閱下表，以進一步瞭解這兩種存取類型，以及所指派的每個平台 IAM 角色可以讓使用者執行哪些作業：

|存取原則詳細資料| 存取資源群組的動作 | 對資源群組中之資源的動作 |
|:-----------------|:--------------|:---------------|
|指派下列項目的存取權|選定資源群組|資源群組中的選定服務|
|檢視者角色| 檢視群組及其特徵，但不包括群組中的資源 | 檢視群組中的資源 |
|操作員角色|不適用|不適用|
|編輯者角色| 檢視或編輯群組的名稱或其他特徵，但不包括群組中的資源 |建立、刪除、編輯、暫停、繼續、檢視、連結及管理對資源群組中之資源的存取權|
|管理者角色| 檢視、編輯或管理群組的存取權，但不包括群組中的資源 |建立、刪除、編輯、暫停、繼續、檢視、連結及管理對資源群組中之資源的存取權|
{: caption="表 1. 資源群組的存取權" caption-side="top"}

如果您要讓使用者建立新的服務實例並將其新增至資源群組，則必須為使用者指派資源群組的「檢視者」或更高層級的角色，以及服務的「編輯者」或更高層級的角色。
{: tip}


## 存取原則範例
{: #sample_policies}

請檢閱下列存取原則範例，以協助您判斷如何指派對帳戶中屬於資源群組之資源的存取權。

1. 在整個帳戶中，將 {{site.data.keyword.Bluemix_notm}} Container Service 的「管理者」平台角色授與給使用者的原則。含有這些詳細資料的原則可讓使用者存取此服務的所有實例，並可讓使用者在其至少具有「檢視者」角色的任何資源群組中，建立服務的實例。具有任何資源之「管理者」角色的使用者，也可以將對該資源的存取權授與給其他使用者。
2. 將資源群組（但不包括其成員資源）的「檢視者」平台角色授與給使用者的原則。含有這些詳細資料的原則可讓使用者查看資源群組，若要在此資源群組中建立任何服務的實例，這點就會是必要項目。
3. 將資源群組中所有資源的「編輯者」平台角色授與給使用者的原則。具有資源之「編輯者」角色的使用者，可以編輯或刪除該資源。
4. 將整個帳戶（所有已啟用 IAM 的服務）的「管理者」平台角色授與給使用者的原則。含有這些詳細資料的原則可讓使用者對整個帳戶中的任何資源執行任何平台動作，並且也包括對帳戶執行管理動作（例如管理帳戶中的資源群組）的能力。

## 使用案例範例
{: #usecase_examples}

針對下列每個使用案例，如果您想要讓某一群使用者中的所有人都擁有相同層次的存取權，請將他們新增至[存取群組](/docs/iam?topic=iam-groups)。藉由使用存取群組，您可以使用最少的存取原則數量，因為存取群組的所有成員都會繼承指派給該群組的任何存取權。
{: tip}

<ol>
<li><p>我有一個僅 10 位使用者的小型帳戶，所有使用者共同處理單一專案。其中有些使用者需要管理帳戶，以及指派存取權給其他使用者。有些使用者則需要佈建服務實例，這樣將會產生費用。而其他使用者則是應用程式開發人員，他們只需要從應用程式元件使用服務實例。</p>
<p>這些使用者全都應該要被授與帳戶和 default 資源群組的各種角色 - 不需要建立其他資源群組來區隔資源，也不需要限制某些使用者使其無法存取某些資源。您可以依據使用者的需求，授與他們帳戶和 default 資源群組的適當角色 - 針對需要管理帳戶及授與其他人存取權的使用者，為其授與帳戶的「管理者」角色；針對需要佈建服務實例的使用者，為其授與 default 資源群組及其成員的「編輯者」角色；而針對只需要使用服務實例的使用者，為其授與資源群組成員的「撰寫者」或「讀者」角色。</p>
</li>
<li><p>我有一個帳戶，其中包含處理三項專案的三個不同團隊。有少數幾位使用者是管理者，需要能夠建立新的資源群組，以及將對資源群組的存取權指派給使用者。其餘使用者只需要存取與其專案相關聯的資源群組。</p>
<p>我會將所有啟用 IAM 之服務的「管理者」角色指派給管理者，並且為其餘使用者指派與其專案相關聯的資源群組以及資源群組成員的各種角色 - 將資源群組的「編輯者」角色指派給需要建立實例的使用者，並將資源群組成員的「讀者」或「撰寫者」角色指派給需要使用實例的使用者。</p>
</li>
<li><p>我有一個包含多個資源群組的帳戶。有些使用者為整個帳戶的「服務 A」管理者，需要存取該服務的所有實例，也需要能夠建立實例，但這些使用者不需要存取帳戶中的任何其他資源。</p>
<p>我會在帳戶層次為這些使用者指派「服務 A」的「管理者」角色，並且針對他們在帳戶中需要建立實例的所有資源群組，為他們指派「檢視者」角色。</p>
</li>
<li><p>我的帳戶中有一位使用者只需要存取某項服務中的特定資源，例如能夠寫入 IBM Cloud Object Storage 中的「儲存區 A」。此使用者不應該看到我帳戶中的資源群組，或是存取任何其他服務或這個 Cloud Object Storage 實例中的任何其他儲存區。</p>
<p>我會為這位使用者授與特定 Cloud Object Storage 實例中「儲存區 A」的「撰寫者」角色。您可以使用服務特定介面（在此範例中為 Cloud Object Storage 使用者介面）或主要「指派存取權」使用者介面來授與此原則。建議使用服務特定的使用者介面，因為它可讓您從資源清單中選擇，而「指派存取權」使用者介面並不會顯示低於服務實例層次的資源，您需要手動輸入 CRN 才能指派原則給那些資源。</p>
</li>
<li><p>我現在是使用 Cloud Foundry 組織和空間，但即將開始為已啟用 IAM 的服務使用資源群組和存取群組。目前，我的使用者和資源是組織成事業線的組織，而空間則用於事業線內的不同專案。</p>
<p>我會使用資源群組來組織資源，方式就和過去使用空間一樣，將每個資源群組想成專案空間。接著，我會設定不同的存取群組，以針對正確的專案層次資源群組，提供必要的存取權給我的使用者。可以提供對資源群組中的所有資源的存取權，或是甚至只提供對資源群組內的精選資源群組的存取權。因此，您可以為每個存取群組設定資源群組內之資源的不同層次存取權，這樣能提供每個使用者群組所需要的存取權，以便使用資源或是資源群組本身。</p>
</li>
</ol>
